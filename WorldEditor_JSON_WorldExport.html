<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Station V - World Export JSON Format</title>
    <style>
        body {
            background-color: #1a1a2e;
            color: #dcdcdc;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background-color: #16213e;
            border: 1px solid #0f3460;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(233, 69, 96, 0.1);
        }
        h1, h2, h3 {
            color: #e94560;
            font-family: '"Courier New"', Courier, monospace;
            border-bottom: 2px solid #0f3460;
            padding-bottom: 10px;
        }
        h1 {
            text-align: center;
            font-size: 2.5em;
        }
        p {
            margin-bottom: 1em;
        }
        pre {
            background-color: #1a1a2e;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #0f3460;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        code {
            font-family: '"Courier New"', Courier, monospace;
            color: #dcdcdc;
            font-size: 0.95em;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5em;
            margin-bottom: 1.5em;
        }
        th, td {
            border: 1px solid #0f3460;
            padding: 12px;
            text-align: left;
            vertical-align: top;
        }
        th {
            background-color: #1a1a2e;
            font-weight: bold;
            color: #e94560;
        }
        .field-name {
            font-weight: bold;
            font-family: monospace;
            color: #e94560;
        }
        .type {
            font-style: italic;
            color: #a0a0a0;
        }
        .note {
            background-color: rgba(15, 52, 96, 0.5);
            border-left: 4px solid #e94560;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Station V - JSON World Export Format</h1>
    <p>This document specifies the structure of the JSON "World Export" file generated by the Station V Virtual World Editor. This format is designed for creating a complete backup of the editor's state, including all virtual users and channels.</p>
    <div class="note">
        <strong>Important:</strong> This "World Export" format is intended for backup and restoration of the editor's state only. It is different from the `users.json` file, which is specifically formatted for direct use in the Station V IRC Simulator.
    </div>

    <h2>1. Root Object Structure</h2>
    <p>The entire export is a single JSON object with two top-level keys: <code>users</code> and <code>channels</code>.</p>
    <pre><code>{
  "users": [ ... ],
  "channels": [ ... ]
}</code></pre>

    <h2>2. The <code>users</code> Array</h2>
    <p>The <code>users</code> key contains an array of User Objects. Each object represents a single virtual user and contains all their defining characteristics.</p>
    
    <h3>2.1. User Object Fields</h3>
    <table>
        <thead>
            <tr>
                <th>Field Name</th>
                <th>Type</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="field-name">id</td>
                <td class="type">String</td>
                <td>A unique identifier for the user, typically a timestamp combined with a random number. Used to link users to channels.</td>
            </tr>
            <tr>
                <td class="field-name">nickname</td>
                <td class="type">String</td>
                <td>The user's IRC nickname.</td>
            </tr>
            <tr>
                <td class="field-name">personality</td>
                <td class="type">String</td>
                <td>A detailed text description of the user's personality, interests, and quirks. This is a core part of the AI's system prompt.</td>
            </tr>
            <tr>
                <td class="field-name">languageSkills</td>
                <td class="type">Array&lt;Object&gt;</td>
                <td>An array of Language Skill objects, defining the languages the user can speak. See section 2.2 for details.</td>
            </tr>
            <tr>
                <td class="field-name">writingStyle</td>
                <td class="type">Object</td>
                <td>An object defining the user's specific manner of writing. See section 2.3 for details.</td>
            </tr>
        </tbody>
    </table>

    <h3>2.2. Language Skill Object</h3>
    <p>Each object in the <code>languageSkills</code> array defines a language and the user's proficiency in it.</p>
    <table>
        <thead>
            <tr>
                <th>Field Name</th>
                <th>Type</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="field-name">language</td>
                <td class="type">String</td>
                <td>The name of the language (e.g., "English", "Japanese").</td>
            </tr>
            <tr>
                <td class="field-name">fluency</td>
                <td class="type">String (Enum)</td>
                <td>The user's fluency level. Possible values: "Native", "Fluent", "Advanced", "Intermediate", "Beginner".</td>
            </tr>
            <tr>
                <td class="field-name">accent</td>
                <td class="type">String</td>
                <td>An optional description of the user's accent or dialect (e.g., "British", "Southern American"). Can be an empty string.</td>
            </tr>
        </tbody>
    </table>

    <h3>2.3. Writing Style Object</h3>
    <p>This object contains various parameters that fine-tune the AI's generated text to match a specific style.</p>
    <table>
        <thead>
            <tr>
                <th>Field Name</th>
                <th>Type</th>
                <th>Description and Possible Values</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="field-name">formality</td>
                <td class="type">String (Enum)</td>
                <td>Controls the formality of the language. Values: "Very Informal", "Informal", "Neutral", "Formal", "Very Formal".</td>
            </tr>
            <tr>
                <td class="field-name">verbosity</td>
                <td class="type">String (Enum)</td>
                <td>Controls how much the user tends to write. Values: "Very Terse", "Terse", "Neutral", "Verbose", "Very Verbose".</td>
            </tr>
            <tr>
                <td class="field-name">humor</td>
                <td class="type">String (Enum)</td>
                <td>Defines the user's sense of humor. Values: "None", "Dry", "Sarcastic", "Witty", "Slapstick".</td>
            </tr>
            <tr>
                <td class="field-name">emojiUsage</td>
                <td class="type">String (Enum)</td>
                <td>Controls how often emojis are used. Values: "None", "Low", "Medium", "High", "Excessive".</td>
            </tr>
            <tr>
                <td class="field-name">punctuation</td>
                <td class="type">String (Enum)</td>
                <td>Defines the user's punctuation style. Values: "Minimal", "Standard", "Creative", "Excessive".</td>
            </tr>
        </tbody>
    </table>

    <h2>3. The <code>channels</code> Array</h2>
    <p>The <code>channels</code> key contains an array of Channel Objects. Each object represents an IRC channel within the simulated world.</p>
    
    <h3>3.1. Channel Object Fields</h3>
    <table>
        <thead>
            <tr>
                <th>Field Name</th>
                <th>Type</th>
                <th>Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="field-name">id</td>
                <td class="type">String</td>
                <td>A unique identifier for the channel.</td>
            </tr>
            <tr>
                <td class="field-name">name</td>
                <td class="type">String</td>
                <td>The name of the channel, which must start with a `#` (e.g., "#developers").</td>
            </tr>
            <tr>
                <td class="field-name">topic</td>
                <td class="type">String</td>
                <td>The channel's topic description.</td>
            </tr>
            <tr>
                <td class="field-name">users</td>
                <td class="type">Array&lt;String&gt;</td>
                <td>An array of user <code>id</code> strings, indicating which users are present in this channel.</td>
            </tr>
        </tbody>
    </table>

    <h2>4. Full Example</h2>
    <p>Below is a complete example of a <code>station_v_world.json</code> file containing two users and one channel.</p>
    <pre><code>{
  "users": [
    {
      "id": "1672531200000_1",
      "nickname": "Cyber_Ronin",
      "personality": "A cynical but brilliant programmer who speaks in cryptic statements. Believes most modern technology is bloated. Has a secret soft spot for classic sci-fi films.",
      "languageSkills": [
        {
          "language": "English",
          "fluency": "Native",
          "accent": ""
        },
        {
          "language": "Japanese",
          "fluency": "Intermediate",
          "accent": ""
        }
      ],
      "writingStyle": {
        "formality": "Informal",
        "verbosity": "Terse",
        "humor": "Sarcastic",
        "emojiUsage": "Low",
        "punctuation": "Standard"
      }
    },
    {
      "id": "1672531200000_2",
      "nickname": "Pixel_Sprite",
      "personality": "A cheerful and friendly digital artist who loves sharing their work and encouraging others. Uses a lot of emojis and positive language.",
      "languageSkills": [
        {
          "language": "English",
          "fluency": "Native",
          "accent": "Californian"
        }
      ],
      "writingStyle": {
        "formality": "Very Informal",
        "verbosity": "Verbose",
        "humor": "Witty",
        "emojiUsage": "High",
        "punctuation": "Creative"
      }
    }
  ],
  "channels": [
    {
      "id": "channel_abc_123",
      "name": "#art_corner",
      "topic": "A place for artists to share their creations and get feedback!",
      "users": [
        "1672531200000_2"
      ]
    },
    {
      "id": "channel_xyz_789",
      "name": "#tech_talk",
      "topic": "Discussing the latest and greatest in technology. Or complaining about it.",
      "users": [
        "1672531200000_1",
        "1672531200000_2"
      ]
    }
  ]
}</code></pre>

</div>

</body>
</html>
